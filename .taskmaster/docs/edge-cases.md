# 엣지 케이스 명세서

---

## 1. 인증 시스템 엣지 케이스

### EC-101: 세션 만료 상황
- **시나리오**: 사용자가 로그인한 상태에서 장시간 비활성화 후 관리자 기능 수행 시도
- **테스트 조건**:
  - 세션 만료 시간: 24시간
  - 관리자 페이지에서 CRUD 작업 시도
- **예상 동작**: 자동으로 로그인 페이지 리다이렉트, 현재 작업 손실 방지를 위한 임시 저장
- **테스트 단계**:
  1. 관리자 로그인
  2. 24시간 이상 대기 (또는 세션 수동 만료)
  3. 공지사항 작성 시도
- **중요도**: P0 (Critical)

### EC-102: 동시 세션 처리
- **시나리오**: 동일한 관리자 계정으로 여러 브라우저/탭에서 동시 로그인
- **테스트 조건**:
  - Chrome, Firefox에서 동시 로그인
  - 동일한 데이터 수정 시도
- **예상 동작**: 마지막 세션이 우선, 이전 세션 무효화 또는 적절한 충돌 처리
- **중요도**: P1 (High)

### EC-103: 잘못된 토큰/세션 조작
- **시나리오**: 개발자 도구를 통한 세션 토큰 조작 시도
- **테스트 조건**:
  - 브라우저 개발자 도구에서 쿠키/localStorage 조작
  - 잘못된 JWT 토큰 설정
- **예상 동작**: 즉시 로그아웃 처리, 에러 없이 로그인 페이지 리다이렉트
- **중요도**: P0 (Critical)

---

## 2. 공지사항 시스템 엣지 케이스

### EC-201: 극대량 텍스트 입력
- **시나리오**: 공지사항 제목/내용에 매우 긴 텍스트 입력
- **테스트 조건**:
  - 제목: 1000자 이상
  - 내용: 100,000자 이상
  - 특수문자, 이모지 대량 포함
- **예상 동작**: 적절한 길이 제한, UI 깨짐 방지, 데이터베이스 오버플로우 방지
- **중요도**: P1 (High)

### EC-202: HTML/스크립트 삽입 시도
- **시나리오**: 공지사항 내용에 HTML 태그, JavaScript 코드 삽입
- **테스트 조건**:
  ```html
  <script>alert('XSS')</script>
  <img src="x" onerror="alert('XSS')">
  <iframe src="javascript:alert('XSS')"></iframe>
  ```
- **예상 동작**: 모든 태그 이스케이프 처리, 안전한 텍스트로 표시
- **중요도**: P0 (Critical)

### EC-203: 동시 편집 충돌
- **시나리오**: 두 명의 관리자가 동시에 같은 공지사항 수정
- **테스트 조건**:
  - 관리자 A, B가 동시에 같은 공지사항 편집 페이지 진입
  - 각각 다른 내용으로 수정 후 저장
- **예상 동작**: 나중에 저장한 내용이 반영되거나, 충돌 경고 표시
- **중요도**: P2 (Medium)

### EC-204: 삭제된 공지사항 접근
- **시나리오**: 공지사항이 삭제된 후 직접 URL로 접근 시도
- **테스트 조건**:
  - 공지사항 삭제 후 `/notices/[deleted-id]` URL 접근
  - 브라우저 뒤로가기 버튼 사용
- **예상 동작**: 404 페이지 표시 또는 공지사항 목록으로 리다이렉트
- **중요도**: P1 (High)

### EC-205: 페이지네이션 경계값
- **시나리오**: 페이지네이션에서 존재하지 않는 페이지 번호 접근
- **테스트 조건**:
  - `/notices?page=999999` 접근
  - `/notices?page=-1` 접근
  - `/notices?page=abc` 접근
- **예상 결과**: 첫 번째 페이지로 리다이렉트 또는 적절한 에러 처리
- **중요도**: P2 (Medium)

---

## 3. 문의사항 시스템 엣지 케이스

### EC-301: 스팸 방지 테스트
- **시나리오**: 동일한 IP에서 짧은 시간 내 대량 문의사항 제출
- **테스트 조건**:
  - 1분 내 100개 이상 문의사항 제출 시도
  - 동일한 내용으로 반복 제출
- **예상 동작**: 율제한(Rate Limiting) 적용, CAPTCHA 추가 요구
- **중요도**: P1 (High)

### EC-302: 잘못된 이메일 형식 다양한 경우
- **시나리오**: 다양한 잘못된 이메일 형식으로 제출 시도
- **테스트 조건**:
  ```
  test@
  @domain.com
  test..test@domain
  test@domain
  test@.domain.com
  매우긴이메일주소@매우긴도메인이름.com (255자 이상)
  ```
- **예상 동작**: 모든 경우에 적절한 검증 메시지 표시
- **중요도**: P1 (High)

### EC-303: 파일 업로드 (향후 기능 고려)
- **시나리오**: 문의사항에 첨부파일 업로드 시 악성 파일 시도
- **테스트 조건**:
  - 실행 파일 (.exe, .bat, .sh)
  - 스크립트 파일 (.js, .php, .py)
  - 매우 큰 파일 (100MB 이상)
- **예상 동작**: 허용된 파일 타입만 업로드, 크기 제한 적용
- **중요도**: P0 (Critical) - 향후 구현 시

### EC-304: 특수문자 및 다국어 입력
- **시나리오**: 문의 내용에 특수문자, 이모지, 다국어 입력
- **테스트 조건**:
  ```
  😀😁😂🤣😃😄 (이모지)
  안녕하세요 (한글)
  こんにちは (일본어)
  你好 (중국어)
  مرحبا (아랍어)
  🚀💻🎉 (기호)
  ```
- **예상 동작**: 모든 문자가 정확히 저장되고 표시됨
- **중요도**: P1 (High)

---

## 4. 데이터베이스 관련 엣지 케이스

### EC-401: 연결 끊김 상황
- **시나리오**: Supabase 데이터베이스 연결이 일시적으로 끊긴 상황
- **테스트 조건**:
  - 네트워크 연결 차단 시뮬레이션
  - Supabase API 응답 지연 (30초 이상)
- **예상 동작**: 적절한 에러 메시지, 재시도 로직, 사용자 데이터 보존
- **중요도**: P0 (Critical)

### EC-402: 대량 데이터 처리
- **시나리오**: 공지사항/문의사항이 수천 개 존재하는 상황
- **테스트 조건**:
  - 공지사항 10,000개 생성
  - 문의사항 50,000개 생성
  - 페이지 로딩 시간 측정
- **예상 동작**: 페이지네이션으로 3초 이내 로딩, 검색 기능 정상 작동
- **중요도**: P2 (Medium)

### EC-403: 동시 사용자 접근
- **시나리오**: 여러 사용자가 동시에 사이트 접근
- **테스트 조건**:
  - 100명의 사용자가 동시에 공지사항 목록 조회
  - 10명의 관리자가 동시에 다른 공지사항 생성
- **예상 동작**: 모든 요청이 5초 이내 처리, 데이터 일관성 유지
- **중요도**: P2 (Medium)

---

## 5. UI/UX 엣지 케이스

### EC-501: 매우 작은 화면 (스마트워치 등)
- **시나리오**: 200px 이하의 매우 작은 화면에서 접근
- **테스트 조건**:
  - 화면 너비: 200px 이하
  - Apple Watch, 스마트워치 시뮬레이션
- **예상 동작**: 기본적인 콘텐츠 접근 가능, 주요 기능 유지
- **중요도**: P3 (Low)

### EC-502: 극도로 느린 네트워크
- **시나리오**: 2G 네트워크 수준의 매우 느린 인터넷 환경
- **테스트 조건**:
  - Chrome DevTools에서 Slow 3G 시뮬레이션
  - 이미지 로딩 시간 10초 이상
- **예상 동작**: 프로그레시브 로딩, 필수 콘텐츠 우선 표시
- **중요도**: P2 (Medium)

### EC-503: JavaScript 비활성화
- **시나리오**: 브라우저에서 JavaScript가 비활성화된 상태
- **테스트 조건**:
  - 브라우저 설정에서 JavaScript 비활성화
  - 모든 페이지 접근 시도
- **예상 동작**: 기본적인 콘텐츠 조회 가능, 관리자 기능은 제한적
- **중요도**: P3 (Low)

### EC-504: 브라우저 자동 번역
- **시나리오**: 브라우저의 자동 번역 기능 활성화 상태
- **테스트 조건**:
  - Chrome 자동 번역으로 영어 → 한국어 변환
  - 폼 라벨, 버튼 텍스트 번역 후 기능 테스트
- **예상 동작**: 번역 후에도 모든 기능 정상 작동
- **중요도**: P2 (Medium)

---

## 6. 보안 관련 엣지 케이스

### EC-601: CSRF 공격 시뮬레이션
- **시나리오**: 외부 사이트에서 관리자 세션을 이용한 악의적 요청
- **테스트 조건**:
  - 관리자 로그인 후 악성 사이트 방문
  - 외부에서 공지사항 생성/삭제 요청 전송
- **예상 동작**: CSRF 토큰 검증으로 모든 요청 차단
- **중요도**: P0 (Critical)

### EC-602: 브루트 포스 공격
- **시나리오**: 로그인 페이지에 대한 무차별 대입 공격
- **테스트 조건**:
  - 1분 내 100회 이상 로그인 시도
  - 다양한 패스워드 조합으로 시도
- **예상 동작**: 계정 잠금, IP 차단, CAPTCHA 요구
- **중요도**: P0 (Critical)

### EC-603: 권한 상승 시도
- **시나리오**: 일반 사용자가 관리자 권한 획득 시도
- **테스트 조건**:
  - URL 직접 조작으로 관리자 페이지 접근
  - 개발자 도구로 권한 관련 쿠키/토큰 조작
- **예상 동작**: 모든 시도 차단, 로그인 페이지 리다이렉트
- **중요도**: P0 (Critical)

---

## 7. 성능 관련 엣지 케이스

### EC-701: 메모리 누수 테스트
- **시나리오**: 장시간 사이트 사용 시 메모리 사용량 증가
- **테스트 조건**:
  - 8시간 동안 사이트를 열어둔 상태
  - 페이지 간 이동 1000회 이상
- **예상 동작**: 메모리 사용량 안정적 유지 (500MB 이하)
- **중요도**: P2 (Medium)

### EC-702: 캐시 무효화
- **시나리오**: 브라우저 캐시가 깨진 상황에서 페이지 로딩
- **테스트 조건**:
  - 하드 리프레시 (Ctrl+F5)
  - 캐시 완전 삭제 후 접근
- **예상 동작**: 초기 로딩 시간 5초 이내, 점진적 개선
- **중요도**: P2 (Medium)

---

## 8. 접근성 엣지 케이스

### EC-801: 고대비 모드
- **시나리오**: Windows 고대비 모드에서 사이트 사용
- **테스트 조건**:
  - Windows 접근성 설정에서 고대비 모드 활성화
  - 모든 페이지 탐색
- **예상 동작**: 텍스트와 배경의 충분한 대비 유지
- **중요도**: P2 (Medium)

### EC-802: 확대/축소 극한 상황
- **시나리오**: 브라우저 확대율 200% 이상에서 사용
- **테스트 조건**:
  - 브라우저 확대율 300%까지 증가
  - 모든 UI 요소 접근성 확인
- **예상 동작**: 가로 스크롤 최소화, 모든 기능 접근 가능
- **중요도**: P2 (Medium)

---

## 엣지 케이스 테스트 우선순위

### P0 (Critical) - 즉시 수정 필요
- 보안 관련 모든 엣지 케이스
- 인증 시스템 취약점
- 데이터베이스 연결 문제

### P1 (High) - 출시 전 수정 필요
- 데이터 입력 검증 실패
- UI 기능 완전 실패
- 접근 권한 문제

### P2 (Medium) - 개선 권장
- 성능 이슈
- 사용성 문제
- 접근성 문제

### P3 (Low) - 향후 개선
- 극한 상황에서의 UI 문제
- 특수 환경에서의 제한적 기능

---

## 테스트 실행 가이드

### 자동화 테스트 도구 활용
- **Playwright**: 시나리오 기반 엣지 케이스 자동화
- **Artillery**: 부하 테스트 및 동시 접근 테스트
- **OWASP ZAP**: 보안 취약점 자동 스캔

### 수동 테스트 체크리스트
- [ ] 각 엣지 케이스를 실제 환경에서 재현
- [ ] 결과를 문서화 (스크린샷, 로그 포함)
- [ ] 수정 필요 사항 이슈 트래킹 시스템에 등록
- [ ] 수정 후 재테스트 수행

---

*이 문서는 새로운 엣지 케이스 발견 시 지속적으로 업데이트됩니다.* 